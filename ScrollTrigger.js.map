{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 9962c91f0379832d415b","webpack:///./src/extensions/Array.js","webpack:///./src/config/DefaultOptions.js","webpack:///./~/object-extend/lib/extend.js","webpack:///./src/scripts/Trigger.js","webpack:///./demo/canvas.js","webpack:///./src/ScrollTrigger.js","webpack:///./demo/main.js","webpack:///./demo/point.js","webpack:///./demo/scene.js","webpack:///./src/scripts/ScrollAnimationLoop.js","webpack:///./src/scripts/TriggerCollection.js"],"names":["Array","prototype","each","fn","l","length","i","e","NodeList","filter","trigger","once","offset","viewport","x","y","element","toggle","class","in","out","callback","visible","scroll","sustain","window","start","stop","directionChange","isInt","n","Number","isFloat","Trigger","options","DefaultOptions","active","parent","direction","parentWidth","offsetWidth","innerWidth","parentHeight","offsetHeight","innerHeight","parentFrame","w","h","rect","getBounds","_checkVisibility","response","_toggleCallback","Promise","then","_toggleClass","bind","catch","console","error","call","getBoundingClientRect","width","height","elementOffset","_getElementOffset","viewportOffset","_getViewportOffset","isArray","className","classList","add","remove","FRAME_RATE","FRAME_RATE_SECONDS","Canvas","ctx","scene","Scene","lastDraw","update","now","Date","diff","clearRect","draw","reset","val","scrollDelta","_Trigger","TriggerCollection","_TriggerCollection","ScrollAnimationLoop","_ScrollAnimationLoop","ScrollTrigger","_parseOptions","_initCollection","_initLoop","defaultTrigger","scrollOptions","scrollAttributes","document","querySelectorAll","elements","createTriggers","collection","loop","position","_scrollCallback","_scrollStart","_scrollStop","_scrollDirectionChange","checkVisibility","triggers","push","createTrigger","objects","HTMLElement","search","query","toString","selector","kill","frame","resolve","reject","setTimeout","didScroll","canvasElement","querySelector","getContext","density","isDrawing","canvas","setup","addTriggers","addEventListener","resize","devicePixelRatio","undefined","scale","counterCallback","info","counterElement","counter","parseInt","innerText","delta","map","value","start1","stop1","start2","stop2","requestAnimationFrame","didResize","POINT_RADIUS","MIN_SPEED","MAX_SPEED","getRandomNegative","from","to","rand","Math","random","Point","id","xExtra","yExtra","xSpeed","ySpeed","beginPath","arc","calcX","calcY","PI","fill","AMOUNT_DELTA","CONNECT_DISTANCE","LINE_WIDTH","globalCompositeOperation","points","populate","amount","ceil","point","fillStyle","linesById","reference","distanceX","abs","distanceY","distance","sqrt","pow","tag","hasOwnProperty","x1","y1","x2","y2","lines","Object","values","line","alpha","strokeStyle","lineWidth","moveTo","lineTo","stroke","getPosition","lastAction","_getTimestamp","_startRun","_boundListener","_didScroll","defaults","startCallback","stopCallback","newPosition","newDirection","running","_loop","left","pageXOffset","documentElement","scrollLeft","top","pageYOffset","scrollTop","_stopRun","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","_tick","removeEventListener","hit","object","parentNode","nodes","slice","indexOf","found","el"],"mappings":"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","file":"ScrollTrigger.js?9962c91f0379832d415b","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ScrollTrigger\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ScrollTrigger\"] = factory();\n\telse\n\t\troot[\"ScrollTrigger\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9962c91f0379832d415b","/**\n * Faster than .forEach\n * @param {(function())} fn The function to call\n */\nArray.prototype.each = function (fn) {\n\tconst l = this.length\n\n\tfor(let i = 0; i < l; i++) {\n\t\tconst e = this[i]\n\n\t\tif (e) {\n\t\t\tfn(e,i)\n\t\t}\n\t}\n}\n\n/**\n * Give NodeList some Array functions\n */\nNodeList.prototype.each = Array.prototype.each\nNodeList.prototype.filter = Array.prototype.filter\n\n\n\n// WEBPACK FOOTER //\n// ./src/extensions/Array.js","/**\n * Default options for ScrollTrigger\n */\nexport default function() {\n\t/**\n\t * The default options for a trigger\n\t *\n\t * @type {\n\t * {\n\t *  once: boolean,\n\t *  offset: {\n\t *    viewport: {\n\t *      x: number|(function(frame, direction)),\n\t *      y: number|(function(frame, direction))\n\t *    },\n\t *    element: {\n\t *      x: number|(function(rect, direction)),\n\t *      y: number|(function(rect, direction))\n\t *    }\n\t *  },\n\t *  toggle: {\n\t *    class: {\n\t *      in: string|string[],\n\t *      out: string|string[]\n\t *    },\n\t *  callback: {\n\t *    in: {TriggerInCallback},\n     *    visible: (function()),\n\t *    out: (function())\n\t *  }\n\t * }\n\t * }}\n\t */\n\tthis.trigger = {\n\t\tonce: false,\n\t\toffset: {\n\t\t\tviewport: {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t},\n\t\t\telement: {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t}\n\t\t},\n\t\ttoggle: {\n\t\t\tclass: {\n\t\t\t\tin: 'visible',\n\t\t\t\tout: 'invisible'\n\t\t\t},\n\t\t\tcallback: {\n\t\t\t\tin: null,\n        \t\tvisible: null,\n\t\t\t\tout: null\n\t\t\t}\n\t\t}\n\t}\n\n    /**\n     * The `in` callback is called when the element enters the viewport\n     * @callback TriggerInCallback\n     * @param {{x: Number, y: Number}} position\n     * @param {string} direction\n     */\n\n\t/**\n\t * The default options for the scroll behaviour\n\t * @type {\n\t * {\n\t *  sustain: number,\n\t *  element: Window|HTMLDocument|HTMLElement,\n\t *  callback: {ScrollCallback},\n\t *  start: (function()),\n\t *  stop: (function()),\n\t *  directionChange: (function(direction: {string}))\n\t * }\n\t * }\n\t */\n\tthis.scroll = {\n\t\tsustain: 300,\n\t\telement: window,\n\t\tcallback: () => {},\n\t\tstart: () => {},\n\t\tstop: () => {},\n\t\tdirectionChange: () => {}\n\t}\n\n    /**\n     * The scroll callback is called when the user scrolls\n     * @callback ScrollCallback\n     * @param {{x: Number, y: Number}} position\n     * @param {string} direction\n     */\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/DefaultOptions.js","/*!\n * object-extend\n * A well-tested function to deep extend (or merge) JavaScript objects without further dependencies.\n *\n * http://github.com/bernhardw\n *\n * Copyright 2013, Bernhard Wanger <mail@bernhardwanger.com>\n * Released under the MIT license.\n *\n * Date: 2013-04-10\n */\n\n\n/**\n * Extend object a with object b.\n *\n * @param {Object} a Source object.\n * @param {Object} b Object to extend with.\n * @returns {Object} a Extended object.\n */\nmodule.exports = function extend(a, b) {\n\n    // Don't touch 'null' or 'undefined' objects.\n    if (a == null || b == null) {\n        return a;\n    }\n\n    // TODO: Refactor to use for-loop for performance reasons.\n    Object.keys(b).forEach(function (key) {\n\n        // Detect object without array, date or null.\n        // TODO: Performance test:\n        // a) b.constructor === Object.prototype.constructor\n        // b) Object.prototype.toString.call(b) == '[object Object]'\n        if (Object.prototype.toString.call(b[key]) == '[object Object]') {\n            if (Object.prototype.toString.call(a[key]) != '[object Object]') {\n                a[key] = b[key];\n            } else {\n                a[key] = extend(a[key], b[key]);\n            }\n        } else {\n            a[key] = b[key];\n        }\n\n    });\n\n    return a;\n\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/object-extend/lib/extend.js\n// module id = 2\n// module chunks = 0","import DefaultOptions from '../config/DefaultOptions'\nimport extend from 'object-extend'\nimport '../extensions/Array'\n\nfunction isInt(n) {\n\treturn Number(n) === n && n % 1 === 0\n}\n\nfunction isFloat(n) {\n\treturn Number(n) === n && n % 1 !== 0\n}\n\nexport default class Trigger {\n\t/**\n\t * Creates a new Trigger from the given element and options\n\t *\n\t * @param {Element|HTMLElement} element\n\t * @param {DefaultOptions.trigger} [options=DefaultOptions.trigger] options\n\t */\n\tconstructor(element, options) {\n\t\tthis.element = element\n\n\t\toptions = extend(new DefaultOptions().trigger, options)\n\n\t\tthis.offset = options.offset\n\t\tthis.toggle = options.toggle\n\t\tthis.once = options.once\n\t\tthis.visible = null\n\t\tthis.active = true\n\t}\n\n\t/**\n\t * Checks if the Trigger is in the viewport, calls the callbacks and toggles the classes\n\t * @param {HTMLElement|HTMLDocument|Window} parent\n\t * @param {string} direction top, bottom, left, right\n\t * @returns {boolean} If the element is visible\n\t */\n\tcheckVisibility(parent, direction) {\n\t\tif (!this.active) {\n\t\t\treturn this.visible\n\t\t}\n\n\t\tconst parentWidth = parent.offsetWidth || parent.innerWidth || 0\n\t\tconst parentHeight = parent.offsetHeight || parent.innerHeight || 0\n\n\t\tconst parentFrame = { w: parentWidth, h: parentHeight }\n\t\tconst rect = this.getBounds()\n\n\t\tconst visible = this._checkVisibility(rect, parentFrame, direction)\n\n\t\tif (visible !== this.visible) {\n\t\t\tthis.visible = visible\n\n            const response = this._toggleCallback()\n\n            if (response instanceof Promise) {\n                response.then(this._toggleClass.bind(this)).catch(e => {\n                  console.error('Trigger promise failed')\n                  console.error(e)\n                })\n            } else {\n                this._toggleClass()\n            }\n\n        \tif (this.visible && this.once) {\n        \t\tthis.active = false\n        \t}\n        } else if (visible) {\n            if (typeof this.toggle.callback.visible == 'function') {\n                return this.toggle.callback.visible.call(this.element, this)\n            }\n        }\n\n\t\treturn visible\n\t}\n\n\t/**\n\t * Get the bounds of this element\n\t * @return {ClientRect | DOMRect}\n\t */\n\tgetBounds() {\n        return this.element.getBoundingClientRect()\n    }\n\n\t/**\n\t * Get the calculated offset to place on the element\n\t * @param {ClientRect} rect\n\t * @param {string} direction top, bottom, left, right\n\t * @returns {{x: number, y: number}}\n\t * @private\n\t */\n\t_getElementOffset(rect, direction) {\n\t\tlet offset = { x: 0, y: 0 }\n\n\t\tif (typeof this.offset.element.x === 'function') {\n\t\t\toffset.x = rect.width * this.offset.element.x(this, rect, direction)\n\t\t} else if (isFloat(this.offset.element.x)) {\n\t\t\toffset.x = rect.width * this.offset.element.x\n\t\t} else if (isInt(this.offset.element.x)) {\n\t\t\toffset.x = this.offset.element.x\n\t\t}\n\n\t\tif (typeof this.offset.element.y === 'function') {\n\t\t\toffset.y = rect.height * this.offset.element.y(this, rect, direction)\n\t\t} else if (isFloat(this.offset.element.y)) {\n\t\t\toffset.y = rect.height * this.offset.element.y\n\t\t} else if (isInt(this.offset.element.y)) {\n\t\t\toffset.y = this.offset.element.y\n\t\t}\n\n\t\treturn offset\n\t}\n\n\t/**\n\t * Get the calculated offset to place on the viewport\n\t * @param {{w: number, h: number}} parent\n\t * @param {string} direction top, bottom, left, right\n\t * @returns {{x: number, y: number}}\n\t * @private\n\t */\n\t_getViewportOffset(parent, direction) {\n\t\tlet offset = { x: 0, y: 0 }\n\n\t\tif (typeof this.offset.viewport.x === 'function') {\n\t\t\toffset.x = parent.w * this.offset.viewport.x(this, parent, direction)\n\t\t} else if (isFloat(this.offset.viewport.x)) {\n\t\t\toffset.x = parent.w * this.offset.viewport.x\n\t\t} else if (isInt(this.offset.viewport.x)) {\n\t\t\toffset.x = this.offset.viewport.x\n\t\t}\n\n\t\tif (typeof this.offset.viewport.y === 'function') {\n\t\t\toffset.y = parent.h * this.offset.viewport.y(this, parent, direction)\n\t\t} else if (isFloat(this.offset.viewport.y)) {\n\t\t\toffset.y = parent.h * this.offset.viewport.y\n\t\t} else if (isInt(this.offset.viewport.y)) {\n\t\t\toffset.y = this.offset.viewport.y\n\t\t}\n\n\t\treturn offset\n\t}\n\n\t/**\n\t * Check the visibility of the trigger in the viewport, with offsets applied\n\t * @param {ClientRect} rect\n\t * @param {{w: number, h: number}} parent\n\t * @param {string} direction top, bottom, left, right\n\t * @returns {boolean}\n\t * @private\n\t */\n    _checkVisibility(rect, parent, direction) {\n\t\tconst elementOffset = this._getElementOffset(rect, direction)\n\t\tconst viewportOffset = this._getViewportOffset(parent, direction)\n\n\t\tlet visible = true\n\n\t\tif ((rect.x - viewportOffset.x) < -(rect.width - elementOffset.x)) {\n\t\t\tvisible = false\n\t\t}\n\n\t\tif ((rect.x + viewportOffset.x) > (parent.w - elementOffset.x)) {\n\t\t\tvisible = false\n\t\t}\n\n\t\tif ((rect.y - viewportOffset.y) < -(rect.height - elementOffset.y)) {\n\t\t\tvisible = false\n\t\t}\n\n\t\tif ((rect.y + viewportOffset.y) > (parent.h - elementOffset.y)) {\n\t\t\tvisible = false\n\t\t}\n\n\t\treturn visible\n\t}\n\n\t/**\n\t * Toggles the classes\n\t * @private\n\t */\n\t_toggleClass() {\n\t\tif (this.visible) {\n\t\t\tif (Array.isArray(this.toggle.class.in)) {\n\t\t\t\tthis.toggle.class.in.each((className) => {\n\t\t\t\t\tthis.element.classList.add(className)\n\t\t\t\t})\n\t\t\t} else {\n                this.element.classList.add(this.toggle.class.in)\n            }\n\n            if (Array.isArray(this.toggle.class.out)) {\n                this.toggle.class.out.each((className) => {\n                    this.element.classList.remove(className)\n                })\n            } else {\n                this.element.classList.remove(this.toggle.class.out)\n            }\n\n            return\n\t\t}\n\n\t\tif (Array.isArray(this.toggle.class.in)) {\n\t\t\tthis.toggle.class.in.each((className) => {\n\t\t\t\tthis.element.classList.remove(className)\n\t\t\t})\n\t\t} else {\n            this.element.classList.remove(this.toggle.class.in)\n        }\n\n\t\tif (Array.isArray(this.toggle.class.out)) {\n\t\t\tthis.toggle.class.out.each((className) => {\n\t\t\t\tthis.element.classList.add(className)\n\t\t\t})\n\t\t} else {\n            this.element.classList.add(this.toggle.class.out)\n        }\n\t}\n\n\t/**\n\t * Toggles the callback\n\t * @private\n\t * @return null|Promise\n\t */\n\t_toggleCallback() {\n\t\tif (this.visible) {\n\t\t\tif (typeof this.toggle.callback.in == 'function') {\n\t\t\t\treturn this.toggle.callback.in.call(this.element, this)\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof this.toggle.callback.out == 'function') {\n\t\t\t\treturn this.toggle.callback.out.call(this.element, this)\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/Trigger.js","import Scene from './scene'\n\nconst FRAME_RATE = 60\nconst FRAME_RATE_SECONDS = 1000 / FRAME_RATE\n\nexport default class Canvas {\n    constructor(ctx, w, h) {\n        this.ctx = ctx\n        this.width = w\n        this.height = h\n\n        this.scene = new Scene(ctx, w, h)\n        this.lastDraw = null\n    }\n\n    update() {\n        this.scene.update(this.width, this.height)\n    }\n\n    set scrollDelta(val) {\n        this.scene.scrollDelta = val\n    }\n\n    draw() {\n        const now = Date.now()\n\n        if (this.lastDraw !== null) {\n            const diff = now - this.lastDraw\n\n            if (diff < FRAME_RATE_SECONDS) { return }\n        }\n\n        this.ctx.clearRect(0, 0, this.width, this.height)\n        this.scene.draw()\n\n        this.lastDraw = now\n    }\n\n    didResize() {\n        this.scene.reset()\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./demo/canvas.js","/*!\n * ScrollTrigger\n *\n *\n * http://github.com/terwanerik\n *\n * Copyright 2017, Erik Terwan <erik@erikterwan.com>\n * Released under the MIT license.\n *\n * Date: 2017-07-09\n */\n\n/**\n * Created by Erik on 09/07/2017.\n */\nimport DefaultOptions from './config/DefaultOptions'\nimport _Trigger from './scripts/Trigger'\nimport _TriggerCollection from './scripts/TriggerCollection'\nimport _ScrollAnimationLoop from './scripts/ScrollAnimationLoop'\n\nimport extend from 'object-extend'\nimport './extensions/Array'\n\nexport const Trigger = _Trigger\nexport const TriggerCollection = _TriggerCollection\nexport const ScrollAnimationLoop = _ScrollAnimationLoop\n\nexport default class ScrollTrigger {\n\t/**\n\t * Constructor for the scroll trigger\n\t * @param {DefaultOptions} [options=DefaultOptions] options\n\t */\n\tconstructor(options) {\n\t\tthis._parseOptions(options)\n\t\tthis._initCollection()\n\t\tthis._initLoop()\n\t}\n\n\t/**\n\t * Parses the options\n\t * @param {DefaultOptions} [options=DefaultOptions] options\n\t * @private\n\t */\n\t_parseOptions(options) {\n\t\toptions = extend(new DefaultOptions(), options)\n\n\t\tthis.defaultTrigger = options.trigger\n\t\tthis.scrollOptions = options.scroll\n\t}\n\n\t/**\n\t * Initializes the collection, picks all [data-scroll] elements as initial elements\n\t * @private\n\t */\n\t_initCollection() {\n\t\tconst scrollAttributes = document.querySelectorAll('[data-scroll]')\n\t\tlet elements = []\n\n\t\tif (scrollAttributes.length > 0) {\n\t\t\telements = this.createTriggers(scrollAttributes)\n\t\t}\n\n\t\tthis.collection = new TriggerCollection(elements)\n\t}\n\n\t/**\n\t * Initializes the scroll loop\n\t * @private\n\t */\n\t_initLoop() {\n\t\tthis.loop = new ScrollAnimationLoop({\n\t\t\tsustain: this.scrollOptions.sustain,\n\t\t\telement: this.scrollOptions.element,\n\t\t\tcallback: (position, direction) => {\n\t\t\t\tthis._scrollCallback(position, direction)\n\t\t\t},\n\t\t\tstart: () => {\n\t\t\t\tthis._scrollStart()\n\t\t\t},\n\t\t\tstop: () => {\n\t\t\t\tthis._scrollStop()\n\t\t\t},\n\t\t\tdirectionChange: (direction) => {\n\t\t\t\tthis._scrollDirectionChange(direction)\n\t\t\t}\n\t\t})\n\t}\n\n\t/**\n\t * Callback for checking triggers\n\t * @param {{x: number, y: number}} position\n\t * @param {string} direction\n\t * @private\n\t */\n\t_scrollCallback(position, direction) {\n\t\tthis.collection.call((trigger) => {\n\t\t\ttrigger.checkVisibility(this.scrollOptions.element, direction)\n\t\t})\n\n\t\tthis.scrollOptions.callback(position, direction)\n\t}\n\n\t/**\n\t * When the scrolling started\n\t * @private\n\t */\n\t_scrollStart() {\n\t\tthis.scrollOptions.start()\n\t}\n\n\t/**\n\t * When the scrolling stopped\n\t * @private\n\t */\n\t_scrollStop() {\n\t\tthis.scrollOptions.stop()\n\t}\n\n\t/**\n\t * When the direction changes\n\t * @param {string} direction\n\t * @private\n\t */\n\t_scrollDirectionChange(direction) {\n\t\tthis.scrollOptions.directionChange(direction)\n\t}\n\n\t/**\n\t * Creates a Trigger object from a given element and optional option set\n\t * @param {HTMLElement} element\n\t * @param {DefaultOptions.trigger} [options=DefaultOptions.trigger] options\n\t * @returns Trigger\n\t */\n\tcreateTrigger(element, options) {\n\t\treturn new Trigger(element, extend(this.defaultTrigger, options))\n\t}\n\n\t/**\n\t * Creates an array of triggers\n\t * @param {HTMLElement[]|NodeList} elements\n\t * @param {Object} [options=null] options\n\t * @returns {Trigger[]} Array of triggers\n\t */\n\tcreateTriggers(elements, options) {\n\t\tlet triggers = []\n\n\t\telements.each((element) => {\n\t\t\ttriggers.push(this.createTrigger(element, options))\n\t\t})\n\n\t\treturn triggers\n\t}\n\n\t/**\n\t * Adds triggers\n\t * @param {string|HTMLElement|NodeList|Trigger|Trigger[]} objects A list of objects or a query\n\t * @param {Object} [options=null] options\n\t * @returns {ScrollTrigger}\n\t */\n\tadd(objects, options) {\n\t\tif (objects instanceof HTMLElement) {\n\t\t\tthis.collection.add(this.createTrigger(objects, options))\n\n\t\t\treturn this\n\t\t}\n\n\t\tif (objects instanceof Trigger) {\n\t\t\tthis.collection.add(objects)\n\n\t\t\treturn this\n\t\t}\n\n\t\tif (objects instanceof NodeList) {\n\t\t\tthis.collection.add(this.createTriggers(objects, options))\n\n\t\t\treturn this\n\t\t}\n\n\t\tif (Array.isArray(objects) && objects.length && objects[0] instanceof Trigger) {\n\t\t\tthis.collection.add(objects)\n\n\t\t\treturn this\n\t\t}\n\n\t\tif (Array.isArray(objects) && objects.length && objects[0] instanceof HTMLElement) {\n\t\t\tthis.collection.add(this.createTriggers(objects, options))\n\n\t\t\treturn this\n\t\t}\n\n\t\t// assume it's a query string\n\t\tthis.collection.add(this.createTriggers(document.querySelectorAll(objects), options))\n\n\t\treturn this\n\t}\n\n\t/**\n\t * Removes triggers\n\t * @param {string|HTMLElement|NodeList|Trigger|Trigger[]} objects A list of objects or a query\n\t * @returns {ScrollTrigger}\n\t */\n\tremove(objects) {\n\t\tif (objects instanceof Trigger) {\n\t\t\tthis.collection.remove(objects)\n\n\t\t\treturn this\n\t\t}\n\n\t\tif (Array.isArray(objects) && objects.length && objects[0] instanceof Trigger) {\n\t\t\tthis.collection.remove(objects)\n\n\t\t\treturn this\n\t\t}\n\n\t\tif (objects instanceof HTMLElement) {\n\t\t\tthis.collection.remove(this.search(objects))\n\n\t\t\treturn this\n\t\t}\n\n\t\tif (Array.isArray(objects) && objects.length && objects[0] instanceof HTMLElement) {\n\t\t\tthis.collection.remove(this.search(objects))\n\n\t\t\treturn this\n\t\t}\n\n\t\tif (objects instanceof NodeList) {\n\t\t\tthis.collection.remove(this.search(objects))\n\n\t\t\treturn this\n\t\t}\n\n\t\tif (Array.isArray(objects) && objects.length && objects[0] instanceof Trigger) {\n\t\t\tthis.collection.remove(objects)\n\n\t\t\treturn this\n\t\t}\n\n\t\t// assume it's a query string\n\t\tthis.collection.remove(this.query(objects.toString()))\n\n\t\treturn this\n\t}\n\n\t/**\n\t * Lookup one or multiple triggers by a query string\n\t * @param {string} selector\n\t * @returns {Trigger[]}\n\t */\n\tquery(selector) {\n\t\treturn this.collection.query(selector)\n\t}\n\n\t/**\n\t * Lookup one or multiple triggers by a certain HTMLElement or NodeList\n\t * @param {HTMLElement|HTMLElement[]|NodeList} element\n\t * @returns {Trigger|Trigger[]|null}\n\t */\n\tsearch(element) {\n\t\treturn this.collection.search(element)\n\t}\n\n\t/**\n\t * Reattaches the scroll listener\n\t */\n\tlisten() {\n\t\tif (this.loop) { return }\n\n\t\tthis._initLoop()\n\t}\n\n\t/**\n\t * Kills the scroll listener\n\t */\n\tkill() {\n\t\tthis.loop.kill()\n\t\tthis.loop = null\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ScrollTrigger.js","import ScrollTrigger, { Trigger } from '../src/ScrollTrigger'\nimport Canvas from './canvas'\n\n((document, window) => {\n    // This is where the magic happens, start by initializing a ScrollTrigger\n    // instance. We can set default options for all triggers in the constructor.\n    //\n    // We set some default 'trigger' options, and add a custom callback for\n    // the didScroll method. Also we set the scroll sustain to 800ms.\n    const trigger = new ScrollTrigger({\n        // Set custom (default) options for the triggers, these can be overwritten\n        // when adding new triggers to the ScrollTrigger instance. If you pass\n        // options when adding new triggers, you'll only need to pass the object\n        // `trigger`, e.g. { once: false }\n        trigger: {\n            // If the trigger should just work one time\n            once: false,\n            offset: {\n                // Set an offset based on the elements position, returning an\n                // integer = offset in px, float = offset in percentage of either\n                // width (when setting the x offset) or height (when setting y)\n                //\n                // So setting an yOffset of 0.2 means 20% of the elements height,\n                // the callback / class will be toggled when the element is 20%\n                // in the viewport.\n                element: {\n                    x: 0,\n                    y: (trigger, rect, direction) => {\n                        // You can add custom offsets according to callbacks, you\n                        // get passed the trigger, rect (DOMRect) and the scroll\n                        // direction, a string of either top, left, right or\n                        // bottom.\n                        return 0.2\n                    }\n                },\n                // Setting an offset of 0.2 on the viewport means the trigger\n                // will be called when the element is 20% in the viewport. So if\n                // your screen is 1200x600px, the trigger will be called when the\n                // user has scrolled for 120px.\n                viewport: {\n                    x: 0,\n                    y: (trigger, frame, direction) => {\n                        // We check if the trigger is visible, if so, the offset\n                        // on the viewport is 0, otherwise it's 20% of the height\n                        // of the viewport. This causes the triggers to animate\n                        // 'on screen' when the element is in the viewport, but\n                        // don't trigger the 'out' class until the element is out\n                        // of the viewport.\n\n                        // This is the same as returning Math.ceil(0.2 * frame.h)\n                        return trigger.visible ? 0 : 0.2\n                    }\n                }\n            },\n            toggle: {\n                // The class(es) that should be toggled\n                class: {\n                    in: 'visible', // Either a string, or an array of strings\n                    out: ['invisible', 'extraClassToToggleWhenHidden']\n                },\n                callback: {\n                    // A callback when the element is going in the viewport, you can\n                    // return a Promise here, the trigger will not be called until\n                    // the promise resolves.\n                    in: null,\n                    // A callback when the element is visible on screen, keeps\n                    // on triggering for as long as 'sustain' is set\n                    visible: null,\n                    // A callback when the element is going out of the viewport.\n                    // You can also return a promise here, like in the 'in' callback.\n                    //\n                    // Here an example where all triggers take 10ms to trigger\n                    // the 'out' class.\n                    out: (trigger) => {\n                        // `trigger` contains the Trigger object that goes out\n                        // of the viewport\n                        return new Promise((resolve, reject) => {\n                            setTimeout(resolve, 10)\n                        })\n                    }\n                }\n            },\n        },\n        // Set custom options and callbacks for the ScrollAnimationLoop\n        scroll: {\n            // The amount of ms the scroll loop should keep triggering after the\n            // scrolling has stopped. This is sometimes nice for canvas\n            // animations.\n            sustain: 200,\n            // Window|HTMLDocument|HTMLElement to check for scroll events\n            element: window,\n            // Add a callback when the user has scrolled, keeps on triggering for\n            // as long as the sustain is set to do\n            callback: didScroll,\n            // Callback when the user started scrolling\n            start: () => {},\n            // Callback when the user stopped scrolling\n            stop: () => {},\n            // Callback when the user changes direction in scrolling\n            directionChange: () => {}\n        }\n    })\n\n    const canvasElement = document.querySelector('canvas'),\n                    ctx = canvasElement.getContext('2d')\n\n    let w = canvasElement.width = window.innerWidth,\n        h = canvasElement.height = window.innerHeight,\n        density = 1, isDrawing = true\n\n    const canvas = new Canvas(ctx, w, h)\n\n    function setup() {\n        // Add the triggers\n        addTriggers()\n\n        // Basic canvas setup\n        window.addEventListener('resize', resize)\n\n        density = window.devicePixelRatio != undefined ? window.devicePixelRatio : 1.0\n\n        canvasElement.width = w * density\n        canvasElement.height = h * density\n\n        canvas.width = w\n        canvas.height = h\n\n        ctx.scale(density,density)\n\n        draw()\n    }\n\n    function addTriggers() {\n        // Adding triggers can be done in multiple ways, the easiest is to pass\n        // a querySelector.\n        trigger.add('[data-slideInLeft]')\n               .add('[data-slideInRight]')\n               .add('[data-slideInBottom]')\n\n        // Add the trigger for the callback example, also add a custom callback\n        // when the trigger becomes visible. As an example we pass an HTMLElement\n        // instead of a querySelector.\n        const element = document.querySelector('[data-callback]')\n        trigger.add(element, {\n            toggle: {\n                callback: {\n                    in: counterCallback\n                }\n            }\n        })\n    }\n\n    function counterCallback(trigger) {\n        // In the callback we get passed the Trigger object, from here we have\n        // access to the responding HTMLElement among other things. You could,\n        // for instance, change the class it toggles, or attach another callback.\n        // Check the console for more info.\n        console.info(trigger)\n\n        // For now, we just append the counter\n        const counterElement = trigger.element.querySelector('span')\n        const counter = parseInt(counterElement.innerText)\n\n        counterElement.innerText = counter + 1\n    }\n\n    function didScroll(position) {\n        // calculate the delta, from 0 to 1 (when having 1 screen height) to\n        // animate with\n        const delta = (position.y / window.innerHeight)\n\n        canvas.scrollDelta = delta\n\n        // change the backgroundColor accordingly\n        // const lightness = map(delta, 0, 1, 5, 76)\n        // const saturation = map(delta, 0, 1, 84, 0)\n\n        // document.body.style.backgroundColor = `hsl(186, ${saturation}%, ${lightness}%)`\n\n        // check if the canvas is on-screen, otherwise stop the animationLoop.\n        if (position.y > window.innerHeight) {\n            isDrawing = false\n        } else if (!isDrawing) {\n            isDrawing = true\n\n            draw()\n        }\n    }\n\n    function map(value, start1, stop1, start2, stop2) {\n        return (value - start1) / (stop1 - start1) * (stop2 - start2) + start2\n    }\n\n    function draw() {\n        canvas.update()\n        canvas.draw()\n\n        if (isDrawing) {\n            window.requestAnimationFrame(draw)\n        }\n    }\n\n    function resize() {\n        w = canvasElement.width = window.innerWidth\n        h = canvasElement.height = window.innerHeight\n\n        canvasElement.width = w * density\n        canvasElement.height = h * density\n\n        canvas.width = w\n        canvas.height = h\n\n        ctx.scale(density, density)\n\n        canvas.didResize()\n    }\n\n    setup()\n})(document, window)\n\n\n\n// WEBPACK FOOTER //\n// ./demo/main.js","const POINT_RADIUS = 3.5\nconst MIN_SPEED = 0.05\nconst MAX_SPEED = 0.1\n\nfunction getRandomNegative(from, to) {\n    const rand = from + (Math.random() * (to - from))\n\n    return Math.random() > 0.5 ? rand : -rand\n}\n\nexport default class Point {\n    constructor(id, w, h) {\n        this.id = id\n        this.x = Math.random() * w\n        this.y = Math.random() * h\n        this.xExtra = 0\n        this.yExtra = 0\n\n        this.xSpeed = getRandomNegative(MIN_SPEED, MAX_SPEED)\n        this.ySpeed = getRandomNegative(MIN_SPEED, MAX_SPEED)\n    }\n\n    update(w, h, delta) {\n        let xExtra = 0\n        let yExtra = 0\n\n        if (this.x > w / 2) {\n            this.xExtra = delta * (w / 2)\n        } else {\n            this.xExtra = -(delta * (w / 2))\n        }\n\n        if (this.y > h / 2) {\n            this.yExtra = delta * (h / 2)\n        } else {\n            this.yExtra = -(delta * (h / 2))\n        }\n\n        this.x += this.xSpeed\n        this.y += this.ySpeed\n\n        if (this.x < POINT_RADIUS || this.x + POINT_RADIUS > w) {\n            this.x = this.x < POINT_RADIUS ? POINT_RADIUS : (w - POINT_RADIUS)\n            this.xSpeed = -this.xSpeed\n        }\n\n        if (this.y < POINT_RADIUS || this.y + POINT_RADIUS > h) {\n            this.y = this.y < POINT_RADIUS ? POINT_RADIUS : (h - POINT_RADIUS)\n            this.ySpeed = -this.ySpeed\n        }\n    }\n\n    get calcX() {\n        return this.x - this.xExtra\n    }\n\n    get calcY() {\n        return this.y - this.yExtra\n    }\n\n    draw(ctx) {\n        ctx.beginPath()\n        ctx.arc(this.calcX, this.calcY, POINT_RADIUS, 0, 2 * Math.PI);\n        ctx.fill()\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./demo/point.js","import Point from './point'\n\nconst AMOUNT_DELTA = 2.4\nconst CONNECT_DISTANCE = 260\nconst LINE_WIDTH = 2\n\nexport default class Scene {\n    constructor(ctx, w, h) {\n        this.ctx = ctx\n        this.width = w\n        this.height = h\n        this.scrollDelta = 0\n\n        this.ctx.globalCompositeOperation = 'lighter'\n\n        this.reset()\n    }\n\n    reset() {\n        this.points = []\n\n        this.populate()\n    }\n\n    populate() {\n        const amount = Math.ceil(((this.width + this.height) / 100) * AMOUNT_DELTA)\n\n        for (let i = 0; i < amount; i++) {\n            const point = new Point(i, this.width, this.height)\n\n            this.points.push(point)\n        }\n    }\n\n    update(w, h) {\n        this.width = w\n        this.height = h\n\n        for (let i = 0; i < this.points.length; i++) {\n            const point = this.points[i]\n\n            point.update(w, h, this.scrollDelta)\n        }\n    }\n\n    draw() {\n        this.ctx.fillStyle = '#2B7174'\n\n        let linesById = {}\n\n        for (let x = 0; x < this.points.length; x++) {\n            const point = this.points[x]\n\n            point.draw(this.ctx)\n\n            for (let y = 0; y < this.points.length; y++) {\n                const reference = this.points[y]\n\n                if (reference.id === point.id) { continue }\n\n                const distanceX = Math.abs(point.calcX - reference.calcX)\n                const distanceY = Math.abs(point.calcY - reference.calcY)\n                const distance = Math.sqrt(Math.pow(distanceX, 2) + Math.pow(distanceY, 2))\n\n                if (distance <= (CONNECT_DISTANCE * (1 - this.scrollDelta))) {\n                    const tag = point.id > reference.id ? `${reference.id}_${point.id}` : `${point.id}_${reference.id}`\n\n                    if (linesById.hasOwnProperty(tag)) { continue }\n\n                    linesById[tag] = { x1: point.calcX, y1: point.calcY, x2: reference.calcX, y2: reference.calcY, distance: distance }\n                }\n            }\n        }\n\n        const lines = Object.values(linesById)\n\n        for (let i = 0; i < lines.length; i++) {\n            const line = lines[i]\n            const alpha = 1.0 - (line.distance / (CONNECT_DISTANCE * (1 - this.scrollDelta)))\n\n            this.ctx.strokeStyle = `rgba(98, 130, 94, ${alpha})`\n            this.ctx.lineWidth = LINE_WIDTH\n            this.ctx.beginPath()\n            this.ctx.moveTo(line.x1, line.y1)\n            this.ctx.lineTo(line.x2, line.y2)\n            this.ctx.stroke()\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./demo/scene.js","import DefaultOptions from '../config/DefaultOptions'\nimport extend from 'object-extend'\nimport '../extensions/Array'\n\nexport default class ScrollAnimationLoop {\n\t/**\n\t * ScrollAnimationLoop constructor.\n\t * Starts a requestAnimationFrame loop as long as the user has scrolled the scrollElement. Stops after a certain time.\n\t *\n\t * @param {DefaultOptions.scroll} [options=DefaultOptions.scroll] options The options for the loop\n\t * @param {ScrollCallback} callback [loop=null] The loop callback\n\t */\n\tconstructor(options, callback) {\n\t\tthis._parseOptions(options)\n\n\t\tif (typeof callback === 'function') {\n\t\t\tthis.callback = callback\n\t\t}\n\n\t\tthis.direction = 'none'\n\t\tthis.position = this.getPosition()\n\t\tthis.lastAction = this._getTimestamp()\n\n\t\tthis._startRun()\n\n\t\tthis._boundListener = this._didScroll.bind(this)\n\t\tthis.element.addEventListener('scroll', this._boundListener)\n\t}\n\n\t/**\n\t * Parses the options\n\t *\n\t * @param {DefaultOptions.scroll} [options=DefaultOptions.scroll] options The options for the loop\n\t * @private\n\t */\n\t_parseOptions(options) {\n\t\tlet defaults = new DefaultOptions().scroll\n\n\t\tif (typeof options != 'function') {\n\t\t\tdefaults.callback = () => {}\n\n            defaults = extend(defaults, options)\n\t\t} else {\n\t\t\tdefaults.callback = options\n\t\t}\n\n\t\tthis.element = defaults.element\n\t\tthis.sustain = defaults.sustain\n\t\tthis.callback = defaults.callback\n\t\tthis.startCallback = defaults.start\n\t\tthis.stopCallback = defaults.stop\n\t\tthis.directionChange = defaults.directionChange\n\t}\n\n\t/**\n\t * Callback when the user scrolled the element\n\t * @private\n\t */\n\t_didScroll() {\n\t\tconst newPosition = this.getPosition()\n\n\t\tif (this.position !== newPosition) {\n\t\t\tlet newDirection = this.direction\n\n\t\t\tif (newPosition.x !== this.position.x) {\n\t\t\t\tnewDirection = newPosition.x > this.position.x ? 'right' : 'left'\n\t\t\t} else if (newPosition.y !== this.position.y) {\n\t\t\t\tnewDirection = newPosition.y > this.position.y ? 'bottom' : 'top'\n\t\t\t} else {\n\t\t\t\tnewDirection = 'none'\n\t\t\t}\n\n\t\t\tif (newDirection !== this.direction) {\n\t\t\t\tthis.direction = newDirection\n\n                if (typeof this.directionChange === 'function') {\n                    this.directionChange(this.direction)\n                }\n\t\t\t}\n\n\t\t\tthis.position = newPosition\n\t\t\tthis.lastAction = this._getTimestamp()\n\t\t} else {\n            this.direction = 'none'\n        }\n\n\t\tif (!this.running) {\n\t\t\tthis._startRun()\n\t\t}\n\t}\n\n\t/**\n\t * Starts the loop, calls the start callback\n\t * @private\n\t */\n\t_startRun() {\n\t\tthis.running = true\n\n        if (typeof this.startCallback === 'function') {\n            this.startCallback()\n        }\n\n\t\tthis._loop()\n\t}\n\n\t/**\n\t * Stops the loop, calls the stop callback\n\t * @private\n\t */\n\t_stopRun() {\n\t\tthis.running = false\n\n        if (typeof this.stopCallback === 'function') {\n            this.stopCallback()\n        }\n\t}\n\n\t/**\n\t * The current position of the element\n\t * @returns {{x: number, y: number}}\n\t */\n\tgetPosition() {\n\t\tconst left = this.element.pageXOffset || document.documentElement.scrollLeft || this.element.scrollLeft || 0\n\t\tconst top = this.element.pageYOffset || document.documentElement.scrollTop || this.element.scrollTop || 0\n\n\t\treturn { x: left, y: top }\n\t}\n\n\t/**\n\t * The current timestamp in ms\n\t * @returns {number}\n\t * @private\n\t */\n\t_getTimestamp() {\n\t\treturn Number(Date.now())\n\t}\n\n\t/**\n\t * One single tick of the animation\n\t * @private\n\t */\n\t_tick() {\n\t\tthis.callback(this.position, this.direction)\n\n\t\tconst now = this._getTimestamp()\n\n\t\tif (now - this.lastAction > this.sustain) {\n\t\t\tthis._stopRun()\n\t\t}\n\n\t\tif (this.running) {\n\t\t\tthis._loop()\n\t\t}\n\t}\n\n\t/**\n\t * Requests an animation frame\n\t * @private\n\t */\n\t_loop() {\n\t\tconst frame = window.requestAnimationFrame ||\n\t\t\twindow.webkitRequestAnimationFrame ||\n\t\t\twindow.mozRequestAnimationFrame ||\n\t\t\twindow.msRequestAnimationFrame ||\n\t\t\twindow.oRequestAnimationFrame ||\n\t\t\t((callback) => { setTimeout(callback, 1000 / 60) })\n\n\t\tframe(this._tick.bind(this))\n\t}\n\n\t/**\n\t * Kills the loop forever\n\t */\n\tkill() {\n\t\tthis.running = false\n\t\tthis.element.removeEventListener('scroll', this._boundListener)\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ScrollAnimationLoop.js","import Trigger from './Trigger'\nimport '../extensions/Array'\n\nexport default class TriggerCollection {\n\t/**\n\t * Initializes the collection\n\t * @param {Trigger[]} [triggers=[]] triggers A set of triggers to init with, optional\n\t */\n\tconstructor(triggers) {\n\t\t/**\n\t\t * @member {Trigger[]}\n\t\t */\n\t\tthis.triggers = triggers instanceof Array ? triggers : []\n\t}\n\n\t/**\n\t * Adds one or multiple Trigger objects\n\t * @param {Trigger|Trigger[]} objects\n\t */\n\tadd(objects) {\n\t\tif (objects instanceof Trigger) {\n\t\t\t// single\n\t\t\treturn this.triggers.push(objects)\n\t\t}\n\n\t\tobjects.each((trigger) => {\n\t\t\tif (trigger instanceof Trigger) {\n\t\t\t\tthis.triggers.push(trigger)\n\t\t\t} else {\n\t\t\t\tconsole.error('Object added to TriggerCollection is not a Trigger. Object: ', trigger)\n\t\t\t}\n\t\t})\n\t}\n\n\t/**\n\t * Removes one or multiple Trigger objects\n\t * @param {Trigger|Trigger[]} objects\n\t */\n\tremove(objects) {\n\t\tif (objects instanceof Trigger) {\n\t\t\tobjects = [objects]\n\t\t}\n\n\t\tthis.triggers = this.triggers.filter((trigger) => {\n\t\t\tlet hit = false\n\n\t\t\tobjects.each((object) => {\n\t\t\t\tif (object == trigger) {\n\t\t\t\t\thit = true\n\t\t\t\t}\n\t\t\t})\n\n\t\t\treturn !hit\n\t\t})\n\t}\n\n\t/**\n\t * Lookup one or multiple triggers by a query string\n\t * @param {string} selector\n\t * @returns {Trigger[]}\n\t */\n\tquery(selector) {\n\t\treturn this.triggers.filter((trigger) => {\n\t\t\tconst element = trigger.element\n\t\t\tconst parent = element.parentNode\n\t\t\tconst nodes = [].slice.call(parent.querySelectorAll(selector))\n\n\t\t\treturn nodes.indexOf(element) > -1\n\t\t})\n\t}\n\n\t/**\n\t * Lookup one or multiple triggers by a certain HTMLElement or NodeList\n\t * @param {HTMLElement|HTMLElement[]|NodeList} element\n\t * @returns {Trigger|Trigger[]|null}\n\t */\n\tsearch(element) {\n\t\tconst found = this.triggers.filter((trigger) => {\n\t\t\tif (element instanceof NodeList || Array.isArray(element)) {\n\t\t\t\tlet hit = false\n\n\t\t\t\telement.each((el) => {\n\t\t\t\t\tif (trigger.element == el) {\n\t\t\t\t\t\thit = true\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\treturn hit\n\t\t\t}\n\n\t\t\treturn trigger.element == element\n\t\t})\n\n\t\treturn found.length == 0 ? null : (found.length > 1 ? found : found[0])\n\t}\n\n\t/**\n\t * Calls a function on all triggers\n\t * @param {(function())} callback\n\t */\n\tcall(callback) {\n\t\tthis.triggers.each(callback)\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/TriggerCollection.js"],"sourceRoot":""}